from .llm import llm

def make_tailored_resume(resume: str, jd: str):
    system = (
        "Ты карьерный консультант. Всегда отвечай НА РУССКОМ ЯЗЫКЕ. "
        "Пиши кратко и предметно. Используй формат STAR и буллеты."
    )
    prompt = f"""Исходное резюме:
{resume}

Вакансия (JD):
{jd}

СФОРМИРУЙ НА РУССКОМ:
1) Строку: «Ключевые навыки: …» — укажи 3–4 наиболее релевантных JD навыка.
2) 5–7 буллетов в формате STAR (S/T/A/R). Каждый буллет ≤ 2 предложений и содержит конкретные метрики (%, числа, время, деньги).
3) Убери нерелевантные детали, избегай общих фраз и плейсхолдеров.

Не используй квадратные скобки и шаблонные заглушки.
"""
    return llm(system, prompt, max_tokens=900)
